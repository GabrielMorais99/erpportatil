{
    "version": 2,
    "functions": {
        "api/load.js": {
            "maxDuration": 10
        },
        "api/save.js": {
            "maxDuration": 10
        },
        "api/admin.js": {
            "maxDuration": 10
        },
        "api/crypto-config.js": {
            "maxDuration": 5
        }
    },
    "headers": [
        {
            "source": "/(.*).css",
            "headers": [
                { "key": "Cache-Control", "value": "no-cache, no-store, must-revalidate, max-age=0" },
                { "key": "Pragma", "value": "no-cache" },
                { "key": "Expires", "value": "0" }
            ]
        },
        {
            "source": "/(.*).js",
            "headers": [
                { "key": "Cache-Control", "value": "no-cache, no-store, must-revalidate, max-age=0" },
                { "key": "Pragma", "value": "no-cache" },
                { "key": "Expires", "value": "0" }
            ]
        },
        {
            "source": "/(.*).html",
            "headers": [
                { "key": "Cache-Control", "value": "no-cache, no-store, must-revalidate, max-age=0" },
                { "key": "Pragma", "value": "no-cache" },
                { "key": "Expires", "value": "0" }
            ]
        },
        {
            "source": "/sw.js",
            "headers": [
                { "key": "Cache-Control", "value": "no-cache, no-store, must-revalidate, max-age=0" },
                { "key": "Pragma", "value": "no-cache" },
                { "key": "Expires", "value": "0" },
                { "key": "Service-Worker-Allowed", "value": "/" }
            ]
        }
    ],
    "routes": [
        {
            "src": "/api/load",
            "dest": "/api/load.js"
        },
        {
            "src": "/api/save",
            "dest": "/api/save.js"
        },
        {
            "src": "/api/admin",
            "dest": "/api/admin.js"
        },
        {
            "src": "/api/crypto-config",
            "dest": "/api/crypto-config.js"
        },
        {
            "src": "/images/(.*)",
            "dest": "/api/index.js",
            "headers": {
                "Cache-Control": "public, max-age=31536000, immutable"
            }
        },
        {
            "src": "/public/(.*)",
            "dest": "/api/index.js",
            "headers": {
                "Cache-Control": "public, max-age=31536000, immutable"
            }
        },
        {
            "src": "/lib/(.*)",
            "dest": "/api/index.js",
            "headers": {
                "Cache-Control": "public, max-age=31536000, immutable"
            }
        },
        {
            "src": "/(?!api)(.*)",
            "dest": "/api/index.js"
        }
    ]
}
